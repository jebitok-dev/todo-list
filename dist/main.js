(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};e.d({},{oP:()=>T,eT:()=>x,IA:()=>l,hV:()=>s,lg:()=>g,QX:()=>w,gm:()=>S,Ey:()=>i});var t={};e.r(t),e.d(t,{oP:()=>T,eT:()=>x,IA:()=>l,hV:()=>s,lg:()=>g,QX:()=>w,gm:()=>S,Ey:()=>i}),document.querySelector("#searchBar").addEventListener("keyup",(e=>{const n=g.find((e=>e.id===S)),o=e.target.value.toLowerCase();!function(e){T(t.listsContainer),w();const n=g.find((e=>e.id===S));null===S?(document.querySelector(".todo-lister").style.display="none",l.style.background="red"):(l.style.display="",s.innerHTML=`<i class='fas fa-tasks'></i> ${n.name}`,T(i),function(e){e.forEach((e=>{const n=document.importNode(t.taskTemplate.content,!0),o=n.querySelector("input");o.id=e.id,o.checked=e.complete;const r=n.querySelector("label");r.htmlFor=e.id;const a=document.createElement("br");r.append(e.name,", ",e.date,a,e.description);const l=document.createElement("p");l.innerHTML="<i class='far fa-edit'></i>",l.classList.add("edit"),l.addEventListener("click",(()=>x(e,r))),n.querySelector(".task").append(l),i.append(n)}))}(e),function(e){document.querySelectorAll(".todo");const t=[...document.querySelectorAll("./checkbox")];for(let n=0;n<e.length;n+=1)"High"===e[n].priority||"Medium"===e[n].priority?t[n].style.border="2px solid #96f542":t[n].style.border="2px solid #f5ad42"}(e))}(n.tasks.filter((e=>e.name.toLowerCase().includes(o)||e.description.toLowerCase().includes(o))))}));const n=document.querySelector("[data-lists]"),o=document.querySelector("[data-new-list-form]"),r=document.querySelector("[data-new-list-input]"),a=document.querySelector("[data-delete-list-button]"),l=document.querySelector("[data-list-display-container]"),s=document.querySelector("[data-list-title]"),c=document.querySelector("[data-list-count]"),i=document.querySelector("[data-tasks]"),d=document.querySelector("#task-template"),u=document.querySelector("[data-new-task-form]"),m=document.querySelector("[data-new-task-input]"),y=document.querySelector("#due-date"),p=document.querySelector("#priority"),f=document.querySelector("#description"),k=document.querySelector("[data-clear-complete-tasks-button]");let g=JSON.parse(localStorage.getItem("task.lists"))||[],S=localStorage.getItem("task.selectedListId");const v=document.querySelector("#overlay"),b=document.querySelector(".container"),q=document.querySelector(".close"),h=document.querySelector(".add-btn"),L=document.querySelector(".hamburger");let E=!1;function C(){w(),localStorage.setItem("task.lists",JSON.stringify(g)),localStorage.setItem("task.selectedListId",S)}function T(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function w(){g.forEach((e=>{const t=document.createElement("li");t.innerText=e.name,t.dataset.listId=e.id,e.id===S&&t.classList.add("active-list"),n.appendChild(t)}))}function x(e,t){I(),m.value=e.name,y.value=e.date,p.value=e.priority,f.value=e.description,u.addEventListener("submit",(()=>{e.name=m.value,e.date=y.value,e.priority=p.value,e.description=f.value,t.innerHTML=`<span class='checkbox'></span>${e.name}<br>${e.date}<br>${e.description}`,C()}))}function I(){const e=document.querySelector(".container h2"),t=document.querySelector("input[type='submit']");E?(b.style.pointerEvents="none",b.style.transform="scale(0)",v.style.opacity=0,E=!1):(e.textContent="Update Task",t.value="Update",b.style.pointerEvents="auto",b.style.transform="scale(1)",v.style.opacity=1,E=!0)}o.addEventListener("submit",(e=>{e.preventDefault();const t=r.value;if(null===t||""===t)return;const n={id:Date.now().toString(),name:r.value,tasks:[]};r.value=null,g.push(n),C()})),u.addEventListener("submit",(e=>{e.preventDefault();const t=m.value;if("Update Task"===document.querySelector(".container h2").textContent)return;if(null===t||""===t)return;const n={id:Date.now().toString(),name:m.value,date:y.value,priority:p.value,description:f.value,complete:!1};m.value=null,g.find((e=>e.id===S)).tasks.push(n),C()})),a.addEventListener("click",(e=>{g=g.filter((e=>e.id!==S)),S=null,C()})),k.addEventListener("click",(e=>{const t=g.find((e=>e.id===S));S.tasks=t.tasks.filter((e=>!e.complete)),C()})),n.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(S=e.target.dataset.listId,C())})),i.addEventListener("click",(e=>{"input"===e.target.tagName.toLowerCase()&&(g.find((e=>e.id===S)).tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,C())})),h.addEventListener("click",(()=>{u.reset(),I(),E?(h.style.background="#d5ba21",h.style.transform="rotate(45deg)"):(h.style.background="transparent",h.style.transform="rotate(0)")})),q.addEventListener("click",(()=>{b.style.transform="scale(0)",v.style.opacity=0,E=!1,h.style.background="transparent",h.style.transform="rotate(0)",E=!1})),L.addEventListener("click",(()=>{document.querySelector("#sidebar").classList.toggle("active"),L.classList.toggle("click")})),function(){T(n),w();const e=g.find((e=>e.id===S));null===S?l.style.display="none":(l.style.display="",s.innerHTML=`<i class='fas fa-tasks'></i> ${S.name}`,function(e){const t=e.tasks.filter((e=>!e.complete)).length,n=1===t?"task":"tasks";c.innerText=`${t} ${n} remaining`}(e),T(i),function(e){0===e.tasks.length?(l.style.background="url(./images/table.svg) center no-repeat",l.style.backgroundSize="35%"):l.style.background="",e.tasks.forEach((e=>{const t=document.importNode(d.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const o=t.querySelector("label");o.htmlFor=e.id;const r=document.createElement("br");o.append(e.name,",",e.date,r,e.description);const a=document.createElement("p");a.innerHTML="<i class='far fa-edit'></i>",a.classList.add("edit"),a.addEventListener("click",(()=>x(e,o))),t.querySelector(".task").append(a),i.appendChild(t)}))}(e),function(e){const t=[...document.querySelectorAll(".todo")],n=[...document.querySelectorAll(".checkbox")];for(let o=0;o<t.length;o+=1)for(let t=0;t<e.tasks.length;t+=1)"High"===e.tasks[t].priority?n[t].getElementsByClassName.border="2px solid #96f542":"Medium"===e.tasks[t].priority?n[t].style.border="2px solid #96f542":n[t].style.border="2px solid #f5ad42"}(e))}()})();