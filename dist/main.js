(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}};e.d({},{oP:()=>C,eT:()=>I,IA:()=>s,hV:()=>l,lg:()=>S,QX:()=>x,gm:()=>v,Ey:()=>i});var t={};e.r(t),e.d(t,{oP:()=>C,eT:()=>I,IA:()=>s,hV:()=>l,lg:()=>S,QX:()=>x,gm:()=>v,Ey:()=>i}),document.querySelector("#searchBar").addEventListener("keyup",(e=>{const n=S.find((e=>e.id===v)),o=e.target.value.toLowerCase();!function(e){C(t.listsContainer),x();const n=S.find((e=>e.id===v));null===v?(document.querySelector(".todo-lister").style.display="none",s.style.background="red"):(s.style.display="",l.innerHTML=`<i class='fas fa-tasks'></i> ${n.name}`,C(i),function(e){e.forEach((e=>{const n=document.importNode(t.taskTemplate.content,!0),o=n.querySelector("input");o.id=e.id,o.checked=e.complete;const r=n.querySelector("label");r.htmlFor=e.id;const a=document.createElement("br");r.append(e.name,", ",e.date,a,e.description);const s=document.createElement("p");s.innerHTML="<i class='far fa-edit'></i>",s.classList.add("edit"),s.addEventListener("click",(()=>I(e,r))),n.querySelector(".task").append(s),i.append(n)}))}(e),function(e){document.querySelectorAll(".todo");const t=[...document.querySelectorAll("./checkbox")];for(let n=0;n<e.length;n+=1)"High"===e[n].priority||"Medium"===e[n].priority?t[n].style.border="2px solid #96f542":t[n].style.border="2px solid #f5ad42"}(e))}(n.tasks.filter((e=>e.name.toLowerCase().includes(o)||e.description.toLowerCase().includes(o))))}));const n=document.querySelector("[data-lists]"),o=document.querySelector("[data-new-list-form]"),r=document.querySelector("[data-new-list-input]"),a=document.querySelector("[data-delete-list-button]"),s=document.querySelector("[data-list-display-container]"),l=document.querySelector("[data-list-title]"),c=document.querySelector("[data-list-count]"),i=document.querySelector("[data-tasks]"),d=document.querySelector("#task-template"),u=document.querySelector("[data-new-task-form]"),y=document.querySelector("[data-new-task-input]"),m=document.querySelector("#due-date"),p=document.querySelector("#priority"),f=document.querySelector("#description"),k=document.querySelector("[data-clear-complete-tasks-button]");let S=JSON.parse(localStorage.getItem("task.lists"))||[],v=localStorage.getItem("task.selectedListId");const g=document.querySelector("#overlay"),b=document.querySelector(".container-l"),q=document.querySelector(".close"),h=document.querySelector(".add-btn"),L=document.querySelector(".hamburger");let E=!1;function T(){w(),localStorage.setItem("task.lists",JSON.stringify(S)),localStorage.setItem("task.selectedListId",v)}function C(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function w(){C(n),x();const e=S.find((e=>e.id===v));null===v?s.style.display="none":(s.style.display="",l.innerHTML=`<i class='fas fa-tasks'></i> ${v.name}`,function(e){const t=e.tasks.filter((e=>!e.complete)).length,n=1===t?"task":"tasks";c.innerText=`${t} ${n} remaining`}(e),C(i),function(e){0===e.tasks.length?(s.style.background="url(./images/tasks.svg) center no-repeat",s.style.backgroundSize="35%"):s.style.background="",e.tasks.forEach((e=>{const t=document.importNode(d.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const o=t.querySelector("label");o.htmlFor=e.id;const r=document.createElement("br");o.append(e.name,",",e.date,r,e.description);const a=document.createElement("p");a.innerHTML="<i class='far fa-edit'></i>",a.classList.add("edit"),a.addEventListener("click",(()=>I(e,o))),t.querySelector(".task").append(a),i.appendChild(t)}))}(e),function(e){const t=[...document.querySelectorAll(".todo")],n=[...document.querySelectorAll(".checkbox")];for(let o=0;o<t.length;o+=1)for(let t=0;t<e.tasks.length;t+=1)"High"===e.tasks[t].priority||"Medium"===e.tasks[t].priority?n[t].style.border="2px solid #96f542":n[t].style.border="2px solid #f5ad42"}(e))}function x(){S.forEach((e=>{const t=document.createElement("li");t.innerText=e.name,t.dataset.listId=e.id,e.id===v&&t.classList.add("active-list"),n.appendChild(t)}))}function I(e,t){!function(){const e=document.querySelector(".container h2"),t=document.querySelector("input[type='submit']");E?(b.style.pointerEvents="none",b.style.transform="scale(0)",g.style.opacity=0,E=!1):(e.textContent="Update Task",t.value="Update",b.style.pointerEvents="auto",b.style.transform="scale(1)",g.style.opacity=1,E=!0)}(),y.value=e.name,m.value=e.date,p.value=e.priority,f.value=e.description,u.addEventListener("submit",(()=>{e.name=y.value,e.date=m.value,e.priority=p.value,e.description=f.value,t.innerHTML=`<span class='checkbox'></span>${e.name}<br>${e.date}<br>${e.description}`,T()}))}function M(){const e=document.querySelector(".container h2"),t=document.querySelector("input[type='submit']");E?(b.style.pointerEvents="none",b.style.transform="scale(0)",g.style.opacity=0,E=!1):(e.textContent="New Task",t.value="Submit",b.style.pointerEvents="auto",b.style.transform="scale(1)",g.style.opacity=1,E=!0)}o.addEventListener("submit",(e=>{e.preventDefault();const t=r.value;if(null===t||""===t)return;const n={id:Date.now().toString(),name:r.value,tasks:[]};r.value=null,S.push(n),T()})),u.addEventListener("submit",(e=>{e.preventDefault();const t=y.value;if("Update Task"===document.querySelector(".container-l h2").textContent)return;if(null===t||""===t)return;const n={id:Date.now().toString(),name:y.value,date:m.value,priority:p.value,description:f.value,complete:!1};y.value=null,S.find((e=>e.id===v)).tasks.push(n),T()})),a.addEventListener("click",(()=>{S=S.filter((e=>e.id!==v)),v=null,T()})),k.addEventListener("click",(()=>{const e=S.find((e=>e.id===v));v.tasks=e.tasks.filter((e=>!e.complete)),T()})),n.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(v=e.target.dataset.listId,T())})),i.addEventListener("click",(e=>{"input"===e.target.tagName.toLowerCase()&&(S.find((e=>e.id===v)).tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,T())})),h.addEventListener("click",(()=>{u.reset(),M(),E?(h.style.background="#d5ba21",h.style.transform="rotate(45deg)"):(h.style.background="transparent",h.style.transform="rotate(0)")})),q.addEventListener("click",(()=>{b.style.transform="scale(0)",g.style.opacity=0,E=!1,h.style.background="transparent",h.style.transform="rotate(0)",E=!1})),b.addEventListener("submit",(e=>{e.preventDefault(),M(),h.style.background="transparent",h.style.transform="rotate(0)",E=!1})),L.addEventListener("click",(()=>{document.querySelector("#sidebar").classList.toggle("active"),L.classList.toggle("click")})),w()})();