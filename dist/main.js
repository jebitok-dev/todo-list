(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{oP:()=>x,eT:()=>T,IA:()=>a,hV:()=>s,lg:()=>k,O6:()=>t,QX:()=>w,gm:()=>v,Z5:()=>i,Ey:()=>c}),document.querySelector("#searchBar").addEventListener("keyup",(e=>{const n=k.find((e=>e.id===v)),r=e.target.value.toLowerCase();!function(e){x(t),w();const n=k.find((e=>e.id===v));null===v?(document.querySelector(".todo-lister").style.display="none",a.style.background="red"):(a.style.display="",s.innerHTML=`<i class="fas fa-tasks"></i> ${n.name}`,x(c),function(e){e.forEach((e=>{const t=document.importNode(i.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const r=t.querySelector("label");r.htmlFor=e.id;const o=document.createElement("br");r.append(e.name,", ",e.date,o,e.description);const a=document.createElement("p");a.innerHTML='<i class="far fa-edit"></i>',a.classList.add("edit"),a.addEventListener("click",(()=>T(e,r))),t.querySelector(".task").append(a),c.appendChild(t)}))}(e),function(e){const t=[...document.querySelectorAll(".todo")],n=[...document.querySelectorAll(".checkbox")];for(let r=0;r<t.length;r++)for(let t=0;t<e.length;t++)"High"===e[t].priority?n[t].style.border="2px solid #ed1250":"Medium"===e[t].priority?n[t].style.border="2px solid #d3d00f":n[t].style.border="2px solid #0fc53d"}(e))}(n.tasks.filter((e=>e.name.toLowerCase().includes(r)||e.description.toLowerCase().includes(r))))}));const t=document.querySelector("[data-lists]"),n=document.querySelector("[data-new-list-form]"),r=document.querySelector("[data-new-list-input]"),o=document.querySelector("[data-delete-list-button]"),a=document.querySelector("[data-list-display-container]"),s=document.querySelector("[data-list-title"),l=document.querySelector("[data-list-count"),c=document.querySelector("[data-tasks"),i=document.querySelector("#task-template"),d=document.querySelector("[data-new-task-form]"),u=document.querySelector("[data-new-task-input]"),y=document.querySelector("#due-date"),m=document.querySelector("#priority"),p=document.querySelector("#description"),f=document.querySelector("[data-clear-complete-tasks-button]");let k=JSON.parse(localStorage.getItem("task.lists"))||[],v=localStorage.getItem("task.selectedListId");const S=document.querySelector("#overlay"),g=document.querySelector(".container"),b=document.querySelector(".close"),q=document.querySelector(".add-btn"),h=document.querySelector(".hamburger");let L=!1;function E(){C(),localStorage.setItem("task.lists",JSON.stringify(k)),localStorage.setItem("task.selectedListId",v)}function x(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function C(){x(t),w();const e=k.find((e=>e.id===v));null===v?a.style.display="none":(a.style.display="",s.innerHTML=`<i class="fas fa-tasks"></i> ${e.name}`,function(e){const t=e.tasks.filter((e=>!e.complete)).length,n=1===t?"task":"tasks";l.innerText=`${t} ${n} remaining`}(e),x(c),function(e){0===e.tasks.length?(a.style.background="url(./images/tasks.svg) center no-repeat",a.style.backgroundSize="35%"):a.style.background="",e.tasks.forEach((e=>{const t=document.importNode(i.content,!0),n=t.querySelector("input");n.id=e.id,n.checked=e.complete;const r=t.querySelector("label");r.htmlFor=e.id;const o=document.createElement("br");r.append(e.name,", ",e.date,o,e.description);const a=document.createElement("p");a.innerHTML='<i class="far fa-edit"></i>',a.classList.add("edit"),a.addEventListener("click",(()=>T(e,r))),t.querySelector(".task").append(a),c.appendChild(t)}))}(e),function(e){const t=[...document.querySelectorAll(".todo")],n=[...document.querySelectorAll(".checkbox")];for(let r=0;r<t.length;r++)for(let t=0;t<e.tasks.length;t++)"High"===e.tasks[t].priority?n[t].style.border="2px solid #ed1250":"Medium"===e.tasks[t].priority?n[t].style.border="2px solid #d3d00f":n[t].style.border="2px solid #0fc53d"}(e))}function w(){k.forEach((e=>{const n=document.createElement("li");n.innerText=e.name,n.dataset.listId=e.id,e.id===v&&n.classList.add("active-list"),t.appendChild(n)}))}function T(e,t){!function(){const e=document.querySelector(".container h2"),t=document.querySelector('input[type="submit"]');L?(g.style.pointerEvents="none",g.style.transform="scale(0)",S.style.opacity=0,L=!1):(e.textContent="Update Task",t.value="Update",g.style.pointerEvents="auto",g.style.transform="scale(1)",S.style.opacity=1,L=!0)}(),u.value=e.name,y.value=e.date,m.value=e.priority,p.value=e.description,d.addEventListener("submit",(()=>{e.name=u.value,e.date=y.value,e.priority=m.value,e.description=p.value,t.innerHTML=`<span class="checkbox"></span>${e.name}<br>${e.date}<br>${e.description}`,E()}))}function I(){const e=document.querySelector(".container h2"),t=document.querySelector('input[type="submit"]');L?(g.style.pointerEvents="none",g.style.transform="scale(0)",S.style.opacity=0,L=!1):(e.textContent="New Task",t.value="Submit",g.style.pointerEvents="auto",g.style.transform="scale(1)",S.style.opacity=1,L=!0)}n.addEventListener("submit",(e=>{e.preventDefault();const t=r.value;if(null===t||""===t)return;const n={id:Date.now().toString(),name:r.value,tasks:[]};r.value=null,k.push(n),E()})),d.addEventListener("submit",(e=>{e.preventDefault();const t=u.value;if("Update Task"===document.querySelector(".container h2").textContent)return;if(null===t||""===t)return;const n={id:Date.now().toString(),name:u.value,date:y.value,priority:m.value,description:p.value,complete:!1};u.value=null,k.find((e=>e.id===v)).tasks.push(n),E()})),o.addEventListener("click",(()=>{k=k.filter((e=>e.id!==v)),v=null,E()})),f.addEventListener("click",(()=>{const e=k.find((e=>e.id===v));e.tasks=e.tasks.filter((e=>!e.complete)),E()})),t.addEventListener("click",(e=>{"li"===e.target.tagName.toLowerCase()&&(v=e.target.dataset.listId,E())})),c.addEventListener("click",(e=>{"input"===e.target.tagName.toLowerCase()&&(k.find((e=>e.id===v)).tasks.find((t=>t.id===e.target.id)).complete=e.target.checked,E())})),q.addEventListener("click",(()=>{d.reset(),I(),L?(q.style.background="#2185d5",q.style.transform="rotate(45deg)"):(q.style.background="transparent",q.style.transform="rotate(0)")})),b.addEventListener("click",(()=>{g.style.transform="scale(0)",S.style.opacity=0,L=!1,q.style.background="transparent",q.style.transform="rotate(0)"})),g.addEventListener("submit",(e=>{e.preventDefault(),I(),q.style.background="transparent",q.style.transform="rotate(0)",L=!1})),h.addEventListener("click",(()=>{document.querySelector("#sidebar").classList.toggle("active"),h.classList.toggle("clicked")})),C()})();